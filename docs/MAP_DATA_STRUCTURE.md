# –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –î–∞–Ω–Ω—ã—Ö –ö–∞—Ä—Ç—ã

**–¶–µ–ª—å:** –†–∞–∑–¥–µ–ª–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç—ã –æ—Ç –ª–æ–≥–∏–∫–∏, —Ö—Ä–∞–Ω–∏—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∏ –≥—Ä–∞—Ñ–∏–∫—É –æ—Ç–¥–µ–ª—å–Ω–æ.

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ü–∞–ø–æ–∫

```
data/maps/              # –î–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç
‚îú‚îÄ‚îÄ simple_map.json     # –ü—Ä–æ—Å—Ç–∞—è —Ç–µ—Å—Ç–æ–≤–∞—è –∫–∞—Ä—Ç–∞ (3 —É–∑–ª–∞)
‚îú‚îÄ‚îÄ map_coordinates.json # –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ generated_map.json   # –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∫–∞—Ä—Ç–∞ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
‚îî‚îÄ‚îÄ README.md

assets/maps/            # –ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ —Ä–µ—Å—É—Ä—Å—ã
‚îú‚îÄ‚îÄ graphics/           # –ì—Ä–∞—Ñ–∏–∫–∞ (–±—É–¥—É—â–µ–µ)
‚îÇ   ‚îú‚îÄ‚îÄ node_icons/    # –ò–∫–æ–Ω–∫–∏ —É–∑–ª–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ terrain/       # –¢–µ–∫—Å—Ç—É—Ä—ã –ª–∞–Ω–¥—à–∞—Ñ—Ç–∞
‚îÇ   ‚îî‚îÄ‚îÄ roads/         # –¢–µ–∫—Å—Ç—É—Ä—ã –¥–æ—Ä–æ–≥
‚îî‚îÄ‚îÄ README.md
```

---

## üìÑ –§–æ—Ä–º–∞—Ç –§–∞–π–ª–æ–≤

### 1. –ö–∞—Ä—Ç–∞ (`data/maps/*.json`)

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```json
{
  "metadata": {
    "version": "1.0",
    "name": "–ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ä—Ç—ã",
    "description": "–û–ø–∏—Å–∞–Ω–∏–µ"
  },
  "nodes": [
    {
      "id": "Node1",
      "name": "–£–∑–µ–ª 1",
      "pos": [400.0, 300.0],
      "node_type": "City",
      "kingdom": "Test",
      "role": "City"
    }
  ],
  "edges": [
    ["Node1", "Node2"]
  ]
}
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```python
from src.utils.map_loader import MapLoader

loader = MapLoader()
nodes, edges, metadata = loader.load_map("simple_map")
```

---

### 2. –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã (`data/maps/map_coordinates.json`)

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```json
{
  "version": "1.0",
  "description": "–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–∞—Ä—Ç—ã",
  "center": {
    "pos": [500.0, 500.0]
  },
  "capitals": {
    "KingdomID": {
      "name": "–ù–∞–∑–≤–∞–Ω–∏–µ",
      "pos": [x, y]
    }
  },
  "ring_order": ["Kingdom1", "Kingdom2", ...]
}
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```python
from src.utils.map_loader import MapLoader

loader = MapLoader()
coords = loader.load_coordinates()
```

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞:**
–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤ `src/utils/map_data.py`:
- `CENTER_POS` - –ø–æ–∑–∏—Ü–∏—è —Ü–µ–Ω—Ç—Ä–∞
- `CAPITALS` - —Å—Ç–æ–ª–∏—Ü—ã –∫–æ—Ä–æ–ª–µ–≤—Å—Ç–≤
- `RING_ORDER` - –ø–æ—Ä—è–¥–æ–∫ –∫–æ—Ä–æ–ª–µ–≤—Å—Ç–≤

---

## üîß –ö–ª–∞—Å—Å—ã

### MapLoader

**–§–∞–π–ª:** `src/utils/map_loader.py`

**–ú–µ—Ç–æ–¥—ã:**
- `load_map(map_name)` - –∑–∞–≥—Ä—É–∂–∞–µ—Ç –∫–∞—Ä—Ç—É –∏–∑ —Ñ–∞–π–ª–∞
- `load_coordinates()` - –∑–∞–≥—Ä—É–∂–∞–µ—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- `list_maps()` - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–∞—Ä—Ç

**–ü—Ä–∏–º–µ—Ä:**
```python
from src.utils.map_loader import MapLoader

loader = MapLoader()

# –ó–∞–≥—Ä—É–∑–∏—Ç—å –∫–∞—Ä—Ç—É
nodes, edges, metadata = loader.load_map("simple_map")

# –ó–∞–≥—Ä—É–∑–∏—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã
coords = loader.load_coordinates()

# –°–ø–∏—Å–æ–∫ –∫–∞—Ä—Ç
maps = loader.list_maps()
```

---

### World.load_map_from_file()

**–§–∞–π–ª:** `src/core/world.py`

**–ú–µ—Ç–æ–¥:**
```python
world.load_map_from_file("simple_map")
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç –∫–∞—Ä—Ç—É –∏–∑ `data/maps/simple_map.json`
- –û—á–∏—â–∞–µ—Ç —Ç–µ–∫—É—â—É—é –∫–∞—Ä—Ç—É
- –î–æ–±–∞–≤–ª—è–µ—Ç —É–∑–ª—ã –∏ —Ä—ë–±—Ä–∞

---

## üìä –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

1. **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏ –ª–æ–≥–∏–∫–∏:**
   - –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤ —Ñ–∞–π–ª–∞—Ö, –Ω–µ –≤ –∫–æ–¥–µ
   - –õ–µ–≥–∫–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞—Ä—Ç—ã –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞

2. **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∫–∞—Ä—Ç—ã:**
   - –ú–æ–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–∞—Ä—Ç
   - –õ–µ–≥–∫–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –º–µ–∂–¥—É –∫–∞—Ä—Ç–∞–º–∏

3. **–ì—Ä–∞—Ñ–∏–∫–∞ –æ—Ç–¥–µ–ª—å–Ω–æ:**
   - –ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ —Ä–µ—Å—É—Ä—Å—ã –≤ `assets/maps/`
   - –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –∏–∫–æ–Ω–∫–∏, —Ç–µ–∫—Å—Ç—É—Ä—ã

4. **–í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ:**
   - –ö–∞–∂–¥–∞—è –∫–∞—Ä—Ç–∞ –∏–º–µ–µ—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (–≤–µ—Ä—Å–∏—è, –æ–ø–∏—Å–∞–Ω–∏–µ)
   - –õ–µ–≥–∫–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è

---

## üéØ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ—Å—Ç–æ–π –∫–∞—Ä—Ç—ã:
```python
game.world.load_map_from_file("simple_map")
```

### –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:
```python
from src.utils.map_data import CAPITALS, CENTER_POS, RING_ORDER

# –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∏–∑ data/maps/map_coordinates.json
game.world.generate_from_config(CAPITALS, CENTER_POS, RING_ORDER)
```

### –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∫–∞—Ä—Ç—ã:
1. –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `data/maps/my_map.json`
2. –ó–∞–ø–æ–ª–Ω–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É (nodes, edges)
3. –ó–∞–≥—Ä—É–∑–∏—Ç—å: `world.load_map_from_file("my_map")`

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –í—Å–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Ñ–∞–π–ª–∞—Ö, –Ω–µ –≤ –∫–æ–¥–µ
- `World` –∫–ª–∞—Å—Å –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã - —Ç–æ–ª—å–∫–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –∏—Ö
- –ì—Ä–∞—Ñ–∏–∫–∞ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –≤ `assets/maps/graphics/`
- –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `data/maps/generated_map.json`

---

## ‚úÖ –ò—Ç–æ–≥

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö:**
- ‚úÖ `data/maps/` - –¥–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç (JSON)
- ‚úÖ `assets/maps/` - –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ —Ä–µ—Å—É—Ä—Å—ã
- ‚úÖ –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤ —Ñ–∞–π–ª–∞—Ö, –Ω–µ –≤ –∫–æ–¥–µ
- ‚úÖ –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –∫–∞—Ä—Ç—ã

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
- ‚úÖ `MapLoader` –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∫–∞—Ä—Ç
- ‚úÖ `World.load_map_from_file()` –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –≤ –∏–≥—Ä—É
- ‚úÖ –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤ `map_data.py`
