# –ü–ª–∞–Ω –†–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –î–≤–∏–∂–µ–Ω–∏—è –ø–æ –ö–∞—Ä—Ç–µ

**–¶–µ–ª—å:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –¥–≤–∏–∂–µ–Ω–∏–µ –æ—Ç—Ä—è–¥–æ–≤ –ø–æ –∫–∞—Ä—Ç–µ —Å –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–º–∏ —Å–≤—è–∑—è–º–∏, –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ pygame.

**–§–æ–∫—É—Å:** –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —á–∞—Å—Ç—å - –¥–≤–∏–∂–µ–Ω–∏–µ, —Å–≤—è–∑–∏, –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è. –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∫–∞—Ä—Ç—ã –ø–æ—Å–ª–µ pygame.

**–¢–µ–∫—É—â–∞—è –∫–∞—Ä—Ç–∞:** 97 —É–∑–ª–æ–≤ (–æ—Å—Ç–∞–≤–ª—è–µ–º –∫–∞–∫ –µ—Å—Ç—å, –Ω–æ –º–µ–Ω—è–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å–≤—è–∑–µ–π)

---

## üìä –¢–µ–∫—É—â–µ–µ –°–æ—Å—Ç–æ—è–Ω–∏–µ –∏ –ò–∑–º–µ–Ω–µ–Ω–∏—è

**–ß—Ç–æ –º–µ–Ω—è–µ–º:**
- ‚ùå –£–±–∏—Ä–∞–µ–º "–≤—Å–µ —É–∑–ª—ã –∫ —Å—Ç–æ–ª–∏—Ü–µ" (hub-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞)
- ‚úÖ –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–µ —Å–≤—è–∑–∏ –≤–Ω—É—Ç—Ä–∏ –∫–æ—Ä–æ–ª–µ–≤—Å—Ç–≤–∞
- ‚úÖ –¶–µ–Ω—Ç—Ä —Å –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º —É–∑–ª–æ–≤ –∏ –≤–∞—Ä–∏–∞–Ω—Ç–∏–≤–Ω–æ—Å—Ç—å—é
- ‚úÖ –£–∑–ª—ã - –ø—Ä–æ—Å—Ç–æ —Ç–æ—á–∫–∏, —Ç–∏–ø—ã —Ç–æ–ª—å–∫–æ –¥–ª—è —Å–≤—è–∑–µ–π
- ‚úÖ –£—Ä–µ–∑–∞–µ–º —Ç–∏–ø—ã —É–∑–ª–æ–≤ –¥–æ 4-5 —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö, –æ—Å—Ç–∞–ª—å–Ω–æ–µ - —Ä–æ–ª–∏/—Ç–µ–≥–∏

**–ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —É–∑–ª–æ–≤:**
- **Capital** - —Å—Ç–æ–ª–∏—Ü–∞ (1)
- **City** - –≥–æ—Ä–æ–¥–∞ (2)
- **BorderCastle** - –ø–æ–≥—Ä–∞–Ω–∏—á–Ω—ã–µ –∑–∞–º–∫–∏ (3)
- **Outpost** - –∞–≤–∞–Ω–ø–æ—Å—Ç—ã (6)
- **Center** - —Ü–µ–Ω—Ç—Ä (1, –Ω–æ –º–æ–∂–Ω–æ —Ä–∞—Å—à–∏—Ä–∏—Ç—å)

**–†–æ–ª–∏/—Ç–µ–≥–∏:** Farm, Mine, Lumber, TradePost, Ruin, GateToCenter, GateToCW, GateToCCW

---

## üéØ –≠—Ç–∞–ø—ã –†–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –≠—Ç–∞–ø 1: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –°—Ç—Ä—É–∫—Ç—É—Ä—ã –°–≤—è–∑–µ–π (2-3 –¥–Ω—è)

**–¶–µ–ª—å:** –ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å–≤—è–∑–µ–π –Ω–∞ –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫—É—é, —É–±—Ä–∞—Ç—å hub-—Å—Ç—Ä—É–∫—Ç—É—Ä—É.

#### –®–∞–≥ 1.1: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (1 –¥–µ–Ω—å)

**–§–∞–π–ª:** `data/map_config.json`

**–ó–∞–¥–∞—á–∏:**
- [ ] –£–±—Ä–∞—Ç—å hub-—Å—Ç—Ä—É–∫—Ç—É—Ä—É (–≤—Å–µ —É–∑–ª—ã –∫ —Å—Ç–æ–ª–∏—Ü–µ)
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–µ —Å–≤—è–∑–∏:
  - Capital ‚Üí Cities
  - Cities ‚Üí Outposts
  - BorderCastles ‚Üí —Å–æ—Å–µ–¥–Ω–∏–µ BorderCastles
  - BorderCastles ‚Üí Center (—á–µ—Ä–µ–∑ –≤–æ—Ä–æ—Ç–∞)
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Ç–∏–ø—ã —Ä—ë–±–µ—Ä (road_type) –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å–∫–æ—Ä–æ—Å—Ç–µ–π:
  - "main" - –≥–ª–∞–≤–Ω—ã–µ –¥–æ—Ä–æ–≥–∏ (–±—ã—Å—Ç—Ä–µ–µ)
  - "secondary" - –≤—Ç–æ—Ä–æ—Å—Ç–µ–ø–µ–Ω–Ω—ã–µ (—Å—Ä–µ–¥–Ω—è—è —Å–∫–æ—Ä–æ—Å—Ç—å)
  - "path" - —Ç—Ä–æ–ø—ã (–º–µ–¥–ª–µ–Ω–Ω–µ–µ)
  - "center" - —á–µ—Ä–µ–∑ —Ü–µ–Ω—Ç—Ä (–æ–ø–∞—Å–Ω–µ–µ, –Ω–æ –±—ã—Å—Ç—Ä–µ–µ)

**–ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ connection_rules:**
```json
{
  "hierarchical_structure": {
    "enabled": true,
    "description": "–ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–µ —Å–≤—è–∑–∏: Capital ‚Üí Cities ‚Üí Outposts"
  },
  "regional_connections": {
    "enabled": true,
    "description": "–°–æ—Å–µ–¥–Ω–∏–µ —É–∑–ª—ã –æ–¥–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è —Å–æ–µ–¥–∏–Ω–µ–Ω—ã"
  },
  "border_gates": {
    "enabled": true,
    "description": "BorderCastle –∫ —Å–æ—Å–µ–¥—è–º —Å–æ–µ–¥–∏–Ω–µ–Ω—ã –º–µ–∂–¥—É —Å–æ–±–æ–π"
  },
  "center_connection": {
    "enabled": true,
    "description": "Center —Å–æ–µ–¥–∏–Ω—ë–Ω —Å GateToCenter, –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —É–∑–ª—ã"
  }
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≥–æ—Ç–æ–≤–∞ –¥–ª—è –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏—Ö —Å–≤—è–∑–µ–π.

---

#### –®–∞–≥ 1.2: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ –∫–∞—Ä—Ç—ã (1-2 –¥–Ω—è)

**–§–∞–π–ª:** `src/utils/map_generator.py`

**–ó–∞–¥–∞—á–∏:**
- [ ] –£–±—Ä–∞—Ç—å hub-—Å—Ç—Ä—É–∫—Ç—É—Ä—É (–Ω–µ —Å–æ–µ–¥–∏–Ω—è—Ç—å –≤—Å–µ —É–∑–ª—ã —Å–æ —Å—Ç–æ–ª–∏—Ü–µ–π)
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–µ —Å–≤—è–∑–∏:
  - Capital ‚Üí Cities (–≥–ª–∞–≤–Ω—ã–µ –¥–æ—Ä–æ–≥–∏)
  - Cities ‚Üí Outposts (–≤—Ç–æ—Ä–æ—Å—Ç–µ–ø–µ–Ω–Ω—ã–µ –¥–æ—Ä–æ–≥–∏)
  - –°–æ—Å–µ–¥–Ω–∏–µ Outposts (—Ç—Ä–æ–ø—ã)
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Ç–∏–ø—ã —Ä—ë–±–µ—Ä (road_type) –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ä—ë–±–µ—Ä
- [ ] –¶–µ–Ω—Ç—Ä: –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —É–∑–ª–æ–≤ –≤–Ω—É—Ç—Ä–∏ —Ü–µ–Ω—Ç—Ä–∞ –¥–ª—è –≤–∞—Ä–∏–∞–Ω—Ç–∏–≤–Ω–æ—Å—Ç–∏

**–ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä—ë–±–µ—Ä:**
```python
# –í–º–µ—Å—Ç–æ –ø—Ä–æ—Å—Ç–æ (node_from, node_to)
# –¢–µ–ø–µ—Ä—å (node_from, node_to, road_type)
edges: List[Tuple[str, str, str]] = []  # (from, to, road_type)
```

**–ú–µ—Ç–æ–¥—ã:**
- `_generate_hierarchical_edges()` - –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–µ —Å–≤—è–∑–∏
- `_generate_regional_edges()` - —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Å–≤—è–∑–∏
- `_generate_center_edges()` - —Å–≤—è–∑–∏ —á–µ—Ä–µ–∑ —Ü–µ–Ω—Ç—Ä

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–æ–∑–¥–∞—ë—Ç –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–µ —Å–≤—è–∑–∏.

---

#### –®–∞–≥ 1.3: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ World –∫–ª–∞—Å—Å–∞ (1 –¥–µ–Ω—å)

**–§–∞–π–ª:** `src/core/world.py`

**–ó–∞–¥–∞—á–∏:**
- [ ] –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ä—ë–±–µ—Ä –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Ç–∏–ø–æ–≤
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –º–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç—ã —Å —Ä—ë–±—Ä–∞–º–∏
- [ ] –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–∏–ø–∞ —Ä–µ–±—Ä–∞

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
```python
class World:
    def __init__(self):
        self.edges: List[Tuple[str, str, str]] = []  # (from, to, road_type)
    
    def get_edge_type(self, node_from: str, node_to: str) -> Optional[str]:
        """–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–∏–ø —Ä–µ–±—Ä–∞"""
        for edge_from, edge_to, road_type in self.edges:
            if (edge_from == node_from and edge_to == node_to) or \
               (edge_from == node_to and edge_to == node_from):
                return road_type
        return None
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** World –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç–∏–ø—ã —Ä—ë–±–µ—Ä.

---

### –≠—Ç–∞–ø 2: –î–≤–∏–∂–µ–Ω–∏–µ –ø–æ –†—ë–±—Ä–∞–º —Å –¢–∏–ø–∞–º–∏ (1 –Ω–µ–¥–µ–ª—è)

**–¶–µ–ª—å:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –¥–≤–∏–∂–µ–Ω–∏–µ –æ—Ç—Ä—è–¥–æ–≤ —Å —É—á—ë—Ç–æ–º —Ç–∏–ø–æ–≤ —Ä—ë–±–µ—Ä –∏ —Å–∫–æ—Ä–æ—Å—Ç–∏.

#### –®–∞–≥ 2.1: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Squad –∫–ª–∞—Å—Å–∞ (1 –¥–µ–Ω—å)

**–§–∞–π–ª:** `src/entities/unit.py`

**–ó–∞–¥–∞—á–∏:**
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—è –¥–ª—è –¥–≤–∏–∂–µ–Ω–∏—è –ø–æ —Ä—ë–±—Ä–∞–º
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É time/dt

**–ö–æ–¥:**
```python
@dataclass
class Squad:
    # ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è ...
    
    # –î–≤–∏–∂–µ–Ω–∏–µ –ø–æ —Ä—ë–±—Ä–∞–º
    current_edge: Optional[Tuple[str, str]] = None  # (node_from, node_to)
    edge_progress: float = 0.0  # 0.0 = –Ω–∞—á–∞–ª–æ —Ä–µ–±—Ä–∞, 1.0 = –∫–æ–Ω–µ—Ü —Ä–µ–±—Ä–∞
    is_moving: bool = False
    
    # –°–∫–æ—Ä–æ—Å—Ç—å –¥–≤–∏–∂–µ–Ω–∏—è (–±–∞–∑–æ–≤–∞—è, –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç—Å—è —Ç–∏–ø–æ–º –¥–æ—Ä–æ–≥–∏)
    base_speed: float = 1.0  # –µ–¥–∏–Ω–∏—Ü –≤ —Å–µ–∫—É–Ω–¥—É
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** Squad –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–≤–∏–∂–µ–Ω–∏–µ –ø–æ —Ä—ë–±—Ä–∞–º.

---

#### –®–∞–≥ 2.2: –õ–æ–≥–∏–∫–∞ –¥–≤–∏–∂–µ–Ω–∏—è —Å —Ç–∏–ø–∞–º–∏ —Ä—ë–±–µ—Ä (2-3 –¥–Ω—è)

**–§–∞–π–ª:** `src/core/game.py`

**–ó–∞–¥–∞—á–∏:**
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `_update_squad()` —Å —É—á—ë—Ç–æ–º —Ç–∏–ø–æ–≤ —Ä—ë–±–µ—Ä
- [ ] –î–æ–±–∞–≤–∏—Ç—å speed multipliers –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –¥–æ—Ä–æ–≥
- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å time/dt –¥–ª—è –ø–ª–∞–≤–Ω–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è

**Speed multipliers:**
```python
ROAD_SPEED_MULTIPLIERS = {
    "main": 1.0,        # –ì–ª–∞–≤–Ω—ã–µ –¥–æ—Ä–æ–≥–∏ - –±–∞–∑–æ–≤–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å
    "secondary": 0.8,   # –í—Ç–æ—Ä–æ—Å—Ç–µ–ø–µ–Ω–Ω—ã–µ - 80%
    "path": 0.6,        # –¢—Ä–æ–ø—ã - 60%
    "center": 1.2       # –ß–µ—Ä–µ–∑ —Ü–µ–Ω—Ç—Ä - 120% (–±—ã—Å—Ç—Ä–µ–µ, –Ω–æ –æ–ø–∞—Å–Ω–µ–µ)
}
```

**–õ–æ–≥–∏–∫–∞ –¥–≤–∏–∂–µ–Ω–∏—è:**

1. **–ù–∞—á–∞–ª–æ –¥–≤–∏–∂–µ–Ω–∏—è:**
   - –ï—Å–ª–∏ –æ—Ç—Ä—è–¥ –≤ —É–∑–ª–µ –∏ –µ—Å—Ç—å –ø—É—Ç—å
   - –ë–µ—Ä—ë–º –ø–µ—Ä–≤—ã–π —É–∑–µ–ª –∏–∑ –ø—É—Ç–∏
   - –°–æ–∑–¥–∞—ë–º —Ä–µ–±—Ä–æ `(current_node_id, next_node_id)`
   - –ü–æ–ª—É—á–∞–µ–º —Ç–∏–ø —Ä–µ–±—Ä–∞ –∏–∑ World
   - –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º `edge_progress = 0.0`, `is_moving = True`

2. **–î–≤–∏–∂–µ–Ω–∏–µ –ø–æ —Ä–µ–±—Ä—É:**
   - –ï—Å–ª–∏ –æ—Ç—Ä—è–¥ –Ω–∞ —Ä–µ–±—Ä–µ
   - –ü–æ–ª—É—á–∞–µ–º —Ç–∏–ø —Ä–µ–±—Ä–∞
   - –í—ã—á–∏—Å–ª—è–µ–º —Å–∫–æ—Ä–æ—Å—Ç—å: `speed = base_speed * ROAD_SPEED_MULTIPLIERS[road_type]`
   - –í—ã—á–∏—Å–ª—è–µ–º –¥–ª–∏–Ω—É —Ä–µ–±—Ä–∞
   - –û–±–Ω–æ–≤–ª—è–µ–º `edge_progress += (speed * delta_time) / edge_length`

3. **–ü—Ä–∏–±—ã—Ç–∏–µ –≤ —É–∑–µ–ª:**
   - –ï—Å–ª–∏ `edge_progress >= 1.0`
   - –û–±–Ω–æ–≤–ª—è–µ–º `current_node_id = current_edge[1]`
   - –°–±—Ä–∞—Å—ã–≤–∞–µ–º `current_edge = None`, `edge_progress = 0.0`, `is_moving = False`
   - –£–±–∏—Ä–∞–µ–º –¥–æ—Å—Ç–∏–≥–Ω—É—Ç—ã–π —É–∑–µ–ª –∏–∑ –ø—É—Ç–∏

**–ö–æ–¥:**
```python
def _update_squad(self, squad: Squad, delta_time: float):
    """–û–±–Ω–æ–≤–ª—è–µ—Ç –¥–≤–∏–∂–µ–Ω–∏–µ –æ—Ç—Ä—è–¥–∞ —Å —É—á—ë—Ç–æ–º —Ç–∏–ø–æ–≤ —Ä—ë–±–µ—Ä"""
    
    # –ï—Å–ª–∏ –æ—Ç—Ä—è–¥ –≤ —É–∑–ª–µ –∏ –µ—Å—Ç—å –ø—É—Ç—å
    if squad.current_edge is None and squad.path:
        next_node_id = squad.path[0]
        squad.current_edge = (squad.current_node_id, next_node_id)
        squad.edge_progress = 0.0
        squad.is_moving = True
    
    # –ï—Å–ª–∏ –æ—Ç—Ä—è–¥ –¥–≤–∏–∂–µ—Ç—Å—è –ø–æ —Ä–µ–±—Ä—É
    if squad.current_edge:
        # –ü–æ–ª—É—á–∞–µ–º —Ç–∏–ø —Ä–µ–±—Ä–∞
        road_type = self.world.get_edge_type(
            squad.current_edge[0], 
            squad.current_edge[1]
        ) or "path"  # –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ç—Ä–æ–ø–∞
        
        # –í—ã—á–∏—Å–ª—è–µ–º —Å–∫–æ—Ä–æ—Å—Ç—å —Å —É—á—ë—Ç–æ–º —Ç–∏–ø–∞ –¥–æ—Ä–æ–≥–∏
        speed_multiplier = ROAD_SPEED_MULTIPLIERS.get(road_type, 0.6)
        speed = squad.average_speed * speed_multiplier
        
        # –í—ã—á–∏—Å–ª—è–µ–º –¥–ª–∏–Ω—É —Ä–µ–±—Ä–∞
        node_from = self.world.get_node(squad.current_edge[0])
        node_to = self.world.get_node(squad.current_edge[1])
        edge_length = node_from.distance_to(node_to)
        
        # –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å
        squad.edge_progress += (speed * delta_time) / edge_length
        
        # –ï—Å–ª–∏ –¥–æ—Å—Ç–∏–≥–ª–∏ –∫–æ–Ω—Ü–∞ —Ä–µ–±—Ä–∞
        if squad.edge_progress >= 1.0:
            squad.current_node_id = squad.current_edge[1]
            squad.current_edge = None
            squad.edge_progress = 0.0
            squad.is_moving = False
            
            # –£–±–∏—Ä–∞–µ–º –¥–æ—Å—Ç–∏–≥–Ω—É—Ç—ã–π —É–∑–µ–ª –∏–∑ –ø—É—Ç–∏
            if squad.path and squad.path[0] == squad.current_node_id:
                squad.path.pop(0)
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –û—Ç—Ä—è–¥—ã –¥–≤–∏–≥–∞—é—Ç—Å—è —Å —É—á—ë—Ç–æ–º —Ç–∏–ø–æ–≤ –¥–æ—Ä–æ–≥.

---

#### –®–∞–≥ 2.3: –ú–µ—Ç–æ–¥ –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–∑–∏—Ü–∏–∏ (1 –¥–µ–Ω—å)

**–§–∞–π–ª:** `src/core/world.py` –∏–ª–∏ `src/core/game.py`

**–ó–∞–¥–∞—á–∏:**
- [ ] –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ `get_squad_position()` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–∑–∏—Ü–∏–∏ –æ—Ç—Ä—è–¥–∞

**–ö–æ–¥:**
```python
def get_squad_position(self, squad: Squad) -> Tuple[float, float]:
    """–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—É—â—É—é –ø–æ–∑–∏—Ü–∏—é –æ—Ç—Ä—è–¥–∞ –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏"""
    if squad.current_edge:
        # –ü–æ–∑–∏—Ü–∏—è –Ω–∞ —Ä–µ–±—Ä–µ (–∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è)
        node_from = self.get_node(squad.current_edge[0])
        node_to = self.get_node(squad.current_edge[1])
        
        x = node_from.pos[0] + (node_to.pos[0] - node_from.pos[0]) * squad.edge_progress
        y = node_from.pos[1] + (node_to.pos[1] - node_from.pos[1]) * squad.edge_progress
        
        return (x, y)
    else:
        # –ü–æ–∑–∏—Ü–∏—è –≤ —É–∑–ª–µ
        node = self.get_node(squad.current_node_id)
        return node.pos if node else (0, 0)
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ú–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –ø–æ–∑–∏—Ü–∏—é –æ—Ç—Ä—è–¥–∞ –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏.

---

### –≠—Ç–∞–ø 3: –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ Pygame (2-3 –Ω–µ–¥–µ–ª–∏)

**–¶–µ–ª—å:** –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ pygame –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π –≥—Ä–∞—Ñ–∏–∫–∏, –¥–∞–∂–µ –Ω–∞ —Ç–µ–∫—É—â–µ–π –∫–∞—Ä—Ç–µ.

#### –®–∞–≥ 3.1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ pygame (1 –¥–µ–Ω—å)

**–ó–∞–¥–∞—á–∏:**
- [ ] –î–æ–±–∞–≤–∏—Ç—å `pygame` –≤ `requirements.txt`
- [ ] –°–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–∏
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –æ–∫–Ω–æ –∏ –æ—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª

**–ù–æ–≤—ã–π —Ñ–∞–π–ª:** `src/ui/__init__.py`
**–ù–æ–≤—ã–π —Ñ–∞–π–ª:** `src/ui/game_window.py`

```python
import pygame
from typing import Optional
from core.game import Game

class GameWindow:
    def __init__(self, width=1200, height=800):
        pygame.init()
        self.screen = pygame.display.set_mode((width, height))
        pygame.display.set_caption("Awaking")
        self.clock = pygame.time.Clock()
        self.running = True
        self.game: Optional[Game] = None
    
    def set_game(self, game: Game):
        """–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∏–≥—Ä—É"""
        self.game = game
    
    def run(self):
        """–ì–ª–∞–≤–Ω—ã–π —Ü–∏–∫–ª –∏–≥—Ä—ã"""
        if not self.game:
            return
        
        while self.running:
            dt = self.clock.tick(60) / 1000.0  # delta time –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
            
            # –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π
            self.handle_events()
            
            # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–≥—Ä—ã
            if not self.game.is_paused:
                self.game.update(dt)
            
            # –†–µ–Ω–¥–µ—Ä–∏–Ω–≥
            self.render()
            
            pygame.display.flip()
        
        pygame.quit()
    
    def handle_events(self):
        """–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–æ–±—ã—Ç–∏—è"""
        for event in pygame.event.get():
            if event.type == pygame.QUIT:
                self.running = False
            # –î—Ä—É–≥–∏–µ —Å–æ–±—ã—Ç–∏—è –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–∑–∂–µ
    
    def render(self):
        """–†–µ–Ω–¥–µ—Ä–∏—Ç –∏–≥—Ä—É"""
        self.screen.fill((240, 240, 240))  # –§–æ–Ω
        # –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω –ø–æ–∑–∂–µ
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ë–∞–∑–æ–≤–æ–µ –æ–∫–Ω–æ pygame —Ä–∞–±–æ—Ç–∞–µ—Ç.

---

#### –®–∞–≥ 3.2: –ë–∞–∑–æ–≤—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –∫–∞—Ä—Ç—ã (3-5 –¥–Ω–µ–π)

**–ó–∞–¥–∞—á–∏:**
- [ ] –°–æ–∑–¥–∞—Ç—å `src/ui/map_renderer.py` –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –∫–∞—Ä—Ç—ã
- [ ] –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ —É–∑–ª–æ–≤ (—Ç–æ—á–∫–∏)
- [ ] –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Ä—ë–±–µ—Ä (–ª–∏–Ω–∏–∏, —Ä–∞–∑–Ω—ã–µ —Ü–≤–µ—Ç–∞ –¥–ª—è —Ç–∏–ø–æ–≤)
- [ ] –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –æ—Ç—Ä—è–¥–∞ (—Ç–æ—á–∫–∞ –Ω–∞ –∫–∞—Ä—Ç–µ)
- [ ] –ö–∞–º–µ—Ä–∞ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ù–æ–≤—ã–π —Ñ–∞–π–ª:** `src/ui/map_renderer.py`

```python
import pygame
from typing import Tuple, List, Optional
from core.world import World
from entities.unit import Squad

class MapRenderer:
    def __init__(self, screen, world: World):
        self.screen = screen
        self.world = world
        self.camera_x = 0.0
        self.camera_y = 0.0
        self.zoom = 1.0
        
        # –¶–≤–µ—Ç–∞ –¥–ª—è —Ç–∏–ø–æ–≤ –¥–æ—Ä–æ–≥
        self.road_colors = {
            "main": (100, 100, 100),      # –°–µ—Ä—ã–π
            "secondary": (150, 150, 150), # –°–≤–µ—Ç–ª–æ-—Å–µ—Ä—ã–π
            "path": (200, 200, 200),      # –û—á–µ–Ω—å —Å–≤–µ—Ç–ª–æ-—Å–µ—Ä—ã–π
            "center": (139, 69, 19)       # –ö–æ—Ä–∏—á–Ω–µ–≤—ã–π
        }
        
        # –¶–≤–µ—Ç–∞ –¥–ª—è —Ç–∏–ø–æ–≤ —É–∑–ª–æ–≤
        self.node_colors = {
            "Capital": (0, 0, 255),      # –°–∏–Ω–∏–π
            "City": (0, 255, 0),         # –ó–µ–ª—ë–Ω—ã–π
            "BorderCastle": (255, 165, 0), # –û—Ä–∞–Ω–∂–µ–≤—ã–π
            "Outpost": (128, 128, 128),  # –°–µ—Ä—ã–π
            "Center": (255, 0, 0)        # –ö—Ä–∞—Å–Ω—ã–π
        }
    
    def world_to_screen(self, world_x: float, world_y: float) -> Tuple[int, int]:
        """–ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –º–∏—Ä–æ–≤—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤ —ç–∫—Ä–∞–Ω–Ω—ã–µ"""
        screen_x = int((world_x - self.camera_x) * self.zoom + self.screen.get_width() / 2)
        screen_y = int((world_y - self.camera_y) * self.zoom + self.screen.get_height() / 2)
        return (screen_x, screen_y)
    
    def render_edges(self):
        """–†–µ–Ω–¥–µ—Ä–∏—Ç —Ä—ë–±—Ä–∞ –∫–∞—Ä—Ç—ã —Å —Ä–∞–∑–Ω—ã–º–∏ —Ü–≤–µ—Ç–∞–º–∏ –¥–ª—è —Ç–∏–ø–æ–≤"""
        for edge in self.world.edges:
            if len(edge) == 3:
                edge_from, edge_to, road_type = edge
            else:
                edge_from, edge_to = edge
                road_type = "path"  # –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é
            
            node_from = self.world.get_node(edge_from)
            node_to = self.world.get_node(edge_to)
            
            if node_from and node_to:
                start = self.world_to_screen(node_from.pos[0], node_from.pos[1])
                end = self.world_to_screen(node_to.pos[0], node_to.pos[1])
                
                color = self.road_colors.get(road_type, (200, 200, 200))
                thickness = 2 if road_type == "main" else 1
                pygame.draw.line(self.screen, color, start, end, thickness)
    
    def render_nodes(self):
        """–†–µ–Ω–¥–µ—Ä–∏—Ç —É–∑–ª—ã –∫–∞—Ä—Ç—ã"""
        for node in self.world.nodes.values():
            screen_pos = self.world_to_screen(node.pos[0], node.pos[1])
            
            color = self.node_colors.get(node.node_type, (128, 128, 128))
            size = 8 if node.node_type == "Capital" else 5
            pygame.draw.circle(self.screen, color, screen_pos, size)
    
    def render_squad(self, squad: Squad, game):
        """–†–µ–Ω–¥–µ—Ä–∏—Ç –æ—Ç—Ä—è–¥"""
        pos = game.get_squad_position(squad)
        screen_pos = self.world_to_screen(pos[0], pos[1])
        
        if squad.is_moving:
            pygame.draw.circle(self.screen, (255, 0, 0), screen_pos, 8)
        else:
            pygame.draw.circle(self.screen, (0, 0, 255), screen_pos, 6)
    
    def render_path(self, squad: Squad, game):
        """–†–µ–Ω–¥–µ—Ä–∏—Ç –ø—É—Ç—å –æ—Ç—Ä—è–¥–∞"""
        if not squad.path or len(squad.path) < 2:
            return
        
        # –¢–µ–∫—É—â–∞—è –ø–æ–∑–∏—Ü–∏—è
        current_pos = game.get_squad_position(squad)
        path_points = [current_pos]
        
        # –î–æ–±–∞–≤–ª—è–µ–º —É–∑–ª—ã –ø—É—Ç–∏
        for node_id in squad.path:
            node = self.world.get_node(node_id)
            if node:
                path_points.append(node.pos)
        
        # –†–∏—Å—É–µ–º –ª–∏–Ω–∏–∏ –ø—É—Ç–∏
        for i in range(len(path_points) - 1):
            start = self.world_to_screen(path_points[i][0], path_points[i][1])
            end = self.world_to_screen(path_points[i+1][0], path_points[i+1][1])
            pygame.draw.line(self.screen, (255, 0, 0), start, end, 2)
    
    def render(self, game, squads: List[Squad]):
        """–†–µ–Ω–¥–µ—Ä–∏—Ç –≤—Å—é –∫–∞—Ä—Ç—É"""
        self.render_edges()
        self.render_nodes()
        
        for squad in squads:
            self.render_path(squad, game)
            self.render_squad(squad, game)
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ö–∞—Ä—Ç–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ pygame —Å —Ä–∞–∑–Ω—ã–º–∏ —Ü–≤–µ—Ç–∞–º–∏ –¥–ª—è —Ç–∏–ø–æ–≤ –¥–æ—Ä–æ–≥.

---

#### –®–∞–≥ 3.3: –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (3-5 –¥–Ω–µ–π)

**–ó–∞–¥–∞—á–∏:**
- [ ] –ö–ª–∏–∫–∏ –ø–æ —É–∑–ª–∞–º (–≤—ã–±–æ—Ä —É–∑–ª–∞, —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ü–µ–ª–∏)
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã (–ø–∞—É–∑–∞, —É—Å–∫–æ—Ä–µ–Ω–∏–µ, –º–∞—Å—à—Ç–∞–±)
- [ ] –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –∫–∞–º–µ—Ä—ã
- [ ] –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —É–∑–ª–µ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏

**–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
- **–õ–ö–ú –ø–æ —É–∑–ª—É** ‚Üí —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ü–µ–ª—å –¥–≤–∏–∂–µ–Ω–∏—è
- **–ü—Ä–æ–±–µ–ª** ‚Üí –ø–∞—É–∑–∞
- **+/-** ‚Üí —É—Å–∫–æ—Ä–µ–Ω–∏–µ/–∑–∞–º–µ–¥–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏
- **–ö–æ–ª–µ—Å–æ –º—ã—à–∏** ‚Üí –º–∞—Å—à—Ç–∞–±
- **–°—Ç—Ä–µ–ª–∫–∏/WASD** ‚Üí –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –∫–∞–º–µ—Ä—ã
- **R** ‚Üí —Å–±—Ä–æ—Å –∫–∞–º–µ—Ä—ã

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ö–∞—Ä—Ç–∞ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞.

---

#### –®–∞–≥ 3.4: –£–ª—É—á—à–µ–Ω–∏–µ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ (2-3 –¥–Ω—è)

**–ó–∞–¥–∞—á–∏:**
- [ ] –ü–ª–∞–≤–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è –¥–≤–∏–∂–µ–Ω–∏—è
- [ ] –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø—É—Ç–∏
- [ ] –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —É–∑–ª–µ (—Ç–µ–∫—Å—Ç)
- [ ] –ú–∏–Ω–∏-–∫–∞—Ä—Ç–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —É–ª—É—á—à–µ–Ω–∞.

---

## üìã –î–µ—Ç–∞–ª—å–Ω—ã–π –ü–ª–∞–Ω –ø–æ –î–Ω—è–º

### –ù–µ–¥–µ–ª—è 1: –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–≤—è–∑–µ–π –∏ –¥–≤–∏–∂–µ–Ω–∏–µ

**–î–µ–Ω—å 1:** –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- –£–±—Ä–∞—Ç—å hub-—Å—Ç—Ä—É–∫—Ç—É—Ä—É
- –î–æ–±–∞–≤–∏—Ç—å –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–µ —Å–≤—è–∑–∏
- –î–æ–±–∞–≤–∏—Ç—å —Ç–∏–ø—ã —Ä—ë–±–µ—Ä

**–î–µ–Ω—å 2-3:** –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞
- –£–±—Ä–∞—Ç—å hub-—Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏–∑ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–µ —Å–≤—è–∑–∏
- –î–æ–±–∞–≤–∏—Ç—å —Ç–∏–ø—ã —Ä—ë–±–µ—Ä –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä—É

**–î–µ–Ω—å 4:** –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ World
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–∏–ø–æ–≤ —Ä—ë–±–µ—Ä
- –ú–µ—Ç–æ–¥ –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–∏–ø–∞ —Ä–µ–±—Ä–∞

**–î–µ–Ω—å 5:** –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Squad
- –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—è –¥–ª—è –¥–≤–∏–∂–µ–Ω–∏—è

**–î–µ–Ω—å 6-7:** –õ–æ–≥–∏–∫–∞ –¥–≤–∏–∂–µ–Ω–∏—è
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `_update_squad()` —Å —Ç–∏–ø–∞–º–∏ —Ä—ë–±–µ—Ä
- Speed multipliers
- –ú–µ—Ç–æ–¥ `get_squad_position()`

---

### –ù–µ–¥–µ–ª—è 2-3: Pygame

**–î–µ–Ω—å 8:** –ù–∞—Å—Ç—Ä–æ–π–∫–∞ pygame
- –î–æ–±–∞–≤–∏—Ç—å pygame
- –°–æ–∑–¥–∞—Ç—å GameWindow
- –ë–∞–∑–æ–≤—ã–π —Ü–∏–∫–ª

**–î–µ–Ω—å 9-13:** –ë–∞–∑–æ–≤—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥
- –°–æ–∑–¥–∞—Ç—å MapRenderer
- –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Ä—ë–±–µ—Ä —Å —Ü–≤–µ—Ç–∞–º–∏
- –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ —É–∑–ª–æ–≤
- –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –æ—Ç—Ä—è–¥–∞
- –ö–∞–º–µ—Ä–∞ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

**–î–µ–Ω—å 14-18:** –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
- –ö–ª–∏–∫–∏ –ø–æ —É–∑–ª–∞–º
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
- –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –∫–∞–º–µ—Ä—ã
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —É–∑–ª–µ

**–î–µ–Ω—å 19-21:** –£–ª—É—á—à–µ–Ω–∏—è
- –ü–ª–∞–≤–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø—É—Ç–∏
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

---

## üéØ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –£—Å–ø–µ—Ö–∞

### –ü–æ—Å–ª–µ –≠—Ç–∞–ø–∞ 1-2:
- ‚úÖ –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–µ —Å–≤—è–∑–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –î–≤–∏–∂–µ–Ω–∏–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç —Ç–∏–ø—ã –¥–æ—Ä–æ–≥
- ‚úÖ –†–∞–∑–Ω—ã–µ —Å–∫–æ—Ä–æ—Å—Ç–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –¥–æ—Ä–æ–≥
- ‚úÖ –î–≤–∏–∂–µ–Ω–∏–µ –ø–ª–∞–≤–Ω–æ–µ (time/dt)

### –ü–æ—Å–ª–µ –≠—Ç–∞–ø–∞ 3:
- ‚úÖ –ö–∞—Ä—Ç–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ pygame
- ‚úÖ –†–∞–∑–Ω—ã–µ —Ü–≤–µ—Ç–∞ –¥–ª—è —Ç–∏–ø–æ–≤ –¥–æ—Ä–æ–≥
- ‚úÖ –ú–æ–∂–Ω–æ –∫–ª–∏–∫–∞—Ç—å –ø–æ —É–∑–ª–∞–º
- ‚úÖ –ú–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å —Ü–µ–ª—å –¥–≤–∏–∂–µ–Ω–∏—è
- ‚úÖ –ï—Å—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ (–ø–∞—É–∑–∞, —É—Å–∫–æ—Ä–µ–Ω–∏–µ, –º–∞—Å—à—Ç–∞–±)

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –î–µ—Ç–∞–ª–∏

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä—ë–±–µ—Ä

**–°—Ç–∞—Ä–∞—è:**
```python
edges: List[Tuple[str, str]] = []  # (from, to)
```

**–ù–æ–≤–∞—è:**
```python
edges: List[Tuple[str, str, str]] = []  # (from, to, road_type)
```

### Speed Multipliers

```python
ROAD_SPEED_MULTIPLIERS = {
    "main": 1.0,        # –ì–ª–∞–≤–Ω—ã–µ –¥–æ—Ä–æ–≥–∏
    "secondary": 0.8,   # –í—Ç–æ—Ä–æ—Å—Ç–µ–ø–µ–Ω–Ω—ã–µ
    "path": 0.6,        # –¢—Ä–æ–ø—ã
    "center": 1.2       # –ß–µ—Ä–µ–∑ —Ü–µ–Ω—Ç—Ä (–±—ã—Å—Ç—Ä–µ–µ, –Ω–æ –æ–ø–∞—Å–Ω–µ–µ)
}
```

### –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–µ —Å–≤—è–∑–∏

```
Capital
  ‚îú‚îÄ‚îÄ City 1
  ‚îÇ   ‚îú‚îÄ‚îÄ Outpost 1
  ‚îÇ   ‚îî‚îÄ‚îÄ Outpost 2
  ‚îî‚îÄ‚îÄ City 2
      ‚îú‚îÄ‚îÄ Outpost 3
      ‚îî‚îÄ‚îÄ Outpost 4

BorderCastle 1 ‚Üê‚Üí BorderCastle 2 (—Å–æ—Å–µ–¥–∏)
BorderCastle 1 ‚Üí Center (—á–µ—Ä–µ–∑ –≤–æ—Ä–æ—Ç–∞)
```

---

## ‚úÖ –ò—Ç–æ–≥–æ–≤—ã–π –ü–ª–∞–Ω

**–í—Ä–µ–º—è:** 3-4 –Ω–µ–¥–µ–ª–∏

**–≠—Ç–∞–ø—ã:**
1. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Å–≤—è–∑–µ–π (2-3 –¥–Ω—è)
2. –î–≤–∏–∂–µ–Ω–∏–µ —Å —Ç–∏–ø–∞–º–∏ —Ä—ë–±–µ—Ä (1 –Ω–µ–¥–µ–ª—è)
3. –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ pygame (2-3 –Ω–µ–¥–µ–ª–∏)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–µ —Å–≤—è–∑–∏
- –î–≤–∏–∂–µ–Ω–∏–µ —Å —É—á—ë—Ç–æ–º —Ç–∏–ø–æ–≤ –¥–æ—Ä–æ–≥
- Pygame –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å

**–§–æ–∫—É—Å:** –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —á–∞—Å—Ç—å, —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∫–∞—Ä—Ç—ã –ø–æ—Å–ª–µ pygame.

---

## üöÄ –ù–∞—á–∞–ª–æ –†–∞–±–æ—Ç—ã

**–ü–µ—Ä–≤—ã–µ —à–∞–≥–∏:**
1. –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é (—É–±—Ä–∞—Ç—å hub, –¥–æ–±–∞–≤–∏—Ç—å –∏–µ—Ä–∞—Ä—Ö–∏—é)
2. –û–±–Ω–æ–≤–∏—Ç—å –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä (–∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–µ —Å–≤—è–∑–∏)
3. –û–±–Ω–æ–≤–∏—Ç—å World (—Ç–∏–ø—ã —Ä—ë–±–µ—Ä)
4. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –¥–≤–∏–∂–µ–Ω–∏–µ —Å —Ç–∏–ø–∞–º–∏ —Ä—ë–±–µ—Ä

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∫–∞—Ä—Ç—ã.
